C51 COMPILER V9.60.0.0   TEST                                                              10/11/2024 19:46:31 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE TEST
OBJECT MODULE PLACED IN .\Objects\test.obj
COMPILER INVOKED BY: D:\keil\C51\BIN\C51.EXE test.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\test.ls
                    -t) TABS(2) OBJECT(.\Objects\test.obj)

line level    source

   1          //??????????
   2          #define D P0  
   3          sbit E=P2^6;   
*** ERROR C202 IN LINE 3 OF test.c: 'P2': undefined identifier
   4          sbit RW=P2^5;
*** ERROR C202 IN LINE 4 OF test.c: 'P2': undefined identifier
   5          sbit RS=P2^7; 
*** ERROR C202 IN LINE 5 OF test.c: 'P2': undefined identifier
   6           
   7          //????
   8          void LcdWriteCom(uchar com);          /* LCD1602??8?????? */
*** ERROR C141 IN LINE 8 OF test.c: syntax error near 'com', expected ')'
   9          void LcdWriteData(uchar dat)  ;       /* LCD1602??8?????? */
*** ERROR C141 IN LINE 9 OF test.c: syntax error near 'dat', expected ')'
  10          void LcdInit();                 /* LCD1602?????? */ 
  11          void setAddr(unsigned char line ,unsigned char addr);
  12          void setBuling(unsigned char YorN);
  13          void Show_string1(uchar a[]);           /* ????????? ??   "" ????????????? */
*** ERROR C141 IN LINE 13 OF test.c: syntax error near 'a', expected ')'
  14          void Show_string2(uchar a[]);         /* ???     "" ????????????? */
*** ERROR C141 IN LINE 14 OF test.c: syntax error near 'a', expected ')'
  15          void show_string(uchar add,uchar a[]);      /* ????????? ?? ????  0~27   40~67   ???,"?????" */
*** ERROR C141 IN LINE 15 OF test.c: syntax error near 'add', expected ')'
  16          void show_number(uchar add,uint a);       /* show_number(0x? ??????,????? */
*** ERROR C141 IN LINE 16 OF test.c: syntax error near 'add', expected ')'
  17          void show_float(uchar add,float a);       /* ????? */
*** ERROR C141 IN LINE 17 OF test.c: syntax error near 'add', expected ')'
  18           
  19           
  20           
  21          /* ?1602?????
  22           * ??:com ??
  23           * ??? : ?
  24           */
  25          void LcdWriteCom(uchar com)
*** ERROR C141 IN LINE 25 OF test.c: syntax error near 'com', expected ')'
  26          {
  27   1        E=0;
*** ERROR C202 IN LINE 27 OF test.c: 'E': undefined identifier
  28   1        RW=0;
*** ERROR C202 IN LINE 28 OF test.c: 'RW': undefined identifier
  29   1        RS=0;
*** ERROR C202 IN LINE 29 OF test.c: 'RS': undefined identifier
  30   1        D=com;
*** ERROR C202 IN LINE 30 OF test.c: 'P0': undefined identifier
  31   1        delay_us(5);
  32   1        E=1;
  33   1        delay_us(5);
  34   1        E=0;
  35   1      }
  36          /* ?1602?????
  37           * ??: dat ??
  38           * ???: ?
  39           */
C51 COMPILER V9.60.0.0   TEST                                                              10/11/2024 19:46:31 PAGE 2   

  40          void LcdWriteData(uchar dat)
  41          {
  42   1        E=0;
  43   1        RW=0;
  44   1        RS=1;
  45   1        D=dat;
  46   1        delay_us(5);
  47   1        E=1;
  48   1        delay_us(5);
  49   1        E=0;
  50   1      }
  51           
  52          /* LCD1602?????
  53           */
  54          void LcdInit()
  55          {
  56   1        LcdWriteCom(0x38);
  57   1        LcdWriteCom(0x0c);//0x0C????
  58   1      //  LcdWriteCom(0x0d);//0x0D????
  59   1        LcdWriteCom(0x06);
  60   1        LcdWriteCom(0x01);
  61   1        LcdWriteCom(0x80);
  62   1      }
  63          /*?????? ???0x00-0xF ???0x40-0x4f */
  64          void setAddr(unsigned char line ,unsigned char addr)
  65          {
  66   1        if(line == 1)
  67   1          LcdWriteCom(0x80+addr);
  68   1        if(line == 2)
  69   1          LcdWriteCom(0x80+0x40+addr);
  70   1       
  71   1      }
  72          /*??????*/
  73          void setBuling(unsigned char YorN)
  74          {
  75   1        if(YorN)
  76   1        LcdWriteCom(0x0d);//0x0D????
  77   1        else
  78   1        {LcdWriteCom(0x0c);//0x0C????
  79   2          }
  80   1      }
  81           
  82          /* ?????????
  83           * ?? add ?? ??? 0~27
  84           *               ??? 40~67
  85           *      a[] ??? "abc" 
  86           */
  87          void show_string(uchar add,uchar a[])
  88          {
  89   1        uchar i;
  90   1        LcdWriteCom(0x80+add);
  91   1        for(i=0;a[i]!='\0';i++)
  92   1        {
  93   2          LcdWriteData(a[i]);
  94   2        }
  95   1      }
  96           
  97          /* ????????
  98           */
  99          void Show_string1(uchar a[])
 100          {
 101   1        uchar i;
C51 COMPILER V9.60.0.0   TEST                                                              10/11/2024 19:46:31 PAGE 3   

 102   1        LcdWriteCom(0x80);
 103   1        for(i=0;a[i]!='\0';i++)
 104   1        {
 105   2          LcdWriteData(a[i]);
 106   2        }
 107   1      }
 108           
 109          /* ????????
 110           */
 111          void Show_string2(uchar a[])
 112          {
 113   1        uchar i;
 114   1        LcdWriteCom(0x80+0X40);
 115   1        for(i=0;a[i]!='\0';i++)
 116   1        {
 117   2          LcdWriteData(a[i]);
 118   2        }
 119   1      }
 120           
 121          /* ???????? 
 122          */
 123          void show_number(uchar add,uint a)
 124          {
 125   1        char s[10];
 126   1        sprintf(s,"%d",a);        
 127   1        show_string(add,(uchar *)s);    /* ???? */
 128   1      }
 129           
 130          /* ?????????
 131          */
 132          void show_float(uchar add,float a)
 133          {
 134   1        char s[10];
 135   1        sprintf(s,"% .1f",a);/* ???? */
 136   1        show_string(add,(uchar *)s);
 137   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  15 ERROR(S)
